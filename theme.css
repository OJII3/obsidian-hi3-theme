/* HI3 Starfall Theme for Obsidian */
/* Inspired by Honkai Impact 3rd "Starfall" */

.theme-dark {
  /* === Core Colors === */
  --color-orange-primary: #FF6B35;
  --color-orange-bright: #FF8C5A;
  --color-orange-dark: #E85A24;
  --color-cyan-primary: #00CED1;
  --color-cyan-bright: #40E0D0;
  --color-cyan-dark: #20B2AA;

  /* === Background Colors === */
  --background-primary: #0d0d0d;
  --background-primary-alt: #141414;
  --background-secondary: #1a1a1a;
  --background-secondary-alt: #222222;
  --background-modifier-border: #2d2d2d;
  --background-modifier-form-field: #1a1a1a;
  --background-modifier-form-field-highlighted: #252525;
  --background-modifier-box-shadow: rgba(0, 0, 0, 0.5);
  --background-modifier-success: #2d5a2d;
  --background-modifier-error: #5a2d2d;
  --background-modifier-error-rgb: 90, 45, 45;
  --background-modifier-error-hover: #6a3d3d;
  --background-modifier-cover: rgba(0, 0, 0, 0.8);

  /* === Text Colors === */
  --text-normal: #e0e0e0;
  --text-muted: #888888;
  --text-faint: #666666;
  --text-on-accent: #ffffff;
  --text-on-accent-inverted: #0d0d0d;
  --text-error: #ff6b6b;
  --text-success: #6bff6b;
  --text-selection: rgba(255, 107, 53, 0.3);
  --text-highlight-bg: rgba(255, 107, 53, 0.25);
  --text-highlight-bg-active: rgba(255, 107, 53, 0.4);
  --text-accent: var(--color-orange-primary);

  /* === Interactive Colors (Orange accent) === */
  --interactive-normal: #2d2d2d;
  --interactive-hover: #3d3d3d;
  --interactive-accent: var(--color-orange-primary);
  --interactive-accent-hsl: 16, 100%, 60%;
  --interactive-accent-hover: var(--color-orange-bright);
  --interactive-success: #4caf50;

  /* === UI Elements === */
  --scrollbar-active-thumb-bg: var(--color-orange-primary);
  --scrollbar-bg: var(--background-secondary);
  --scrollbar-thumb-bg: #3d3d3d;

  --divider-color: #2d2d2d;
  --divider-color-hover: var(--color-orange-primary);

  --ribbon-background: #0d0d0d;
  --ribbon-background-collapsed: var(--background-primary);

  --titlebar-background: #0d0d0d;
  --titlebar-background-focused: #141414;
  --titlebar-text-color: #e0e0e0;
  --titlebar-text-color-focused: #ffffff;

  --tab-background-active: var(--background-primary);
  --tab-text-color: #888888;
  --tab-text-color-focused: #e0e0e0;
  --tab-text-color-focused-active: #ffffff;
  --tab-text-color-focused-active-current: var(--color-orange-primary);
  --tab-divider-color: var(--background-modifier-border);
  --tab-outline-color: var(--color-orange-primary);
  --tab-outline-width: 1px;

  /* === Headings === */
  --h1-color: var(--color-orange-primary);
  --h2-color: var(--color-orange-bright);
  --h3-color: var(--color-cyan-primary);
  --h4-color: var(--color-cyan-bright);
  --h5-color: #e0e0e0;
  --h6-color: #b0b0b0;

  --heading-formatting: var(--text-faint);
  --h1-font: inherit;
  --h2-font: inherit;
  --h3-font: inherit;
  --h4-font: inherit;
  --h5-font: inherit;
  --h6-font: inherit;
  --h1-line-height: 1.2;
  --h2-line-height: 1.2;
  --h3-line-height: 1.3;
  --h4-line-height: 1.3;
  --h5-line-height: 1.4;
  --h6-line-height: 1.4;
  --h1-size: 2em;
  --h2-size: 1.6em;
  --h3-size: 1.37em;
  --h4-size: 1.25em;
  --h5-size: 1.12em;
  --h6-size: 1em;
  --h1-style: normal;
  --h2-style: normal;
  --h3-style: normal;
  --h4-style: normal;
  --h5-style: normal;
  --h6-style: normal;
  --h1-weight: 700;
  --h2-weight: 600;
  --h3-weight: 600;
  --h4-weight: 600;
  --h5-weight: 600;
  --h6-weight: 600;

  /* === Links === */
  --link-color: var(--color-cyan-primary);
  --link-color-hover: var(--color-cyan-bright);
  --link-decoration: none;
  --link-decoration-hover: underline;
  --link-external-color: var(--color-orange-primary);
  --link-external-color-hover: var(--color-orange-bright);
  --link-external-decoration: none;
  --link-external-decoration-hover: underline;
  --link-unresolved-color: #888888;
  --link-unresolved-opacity: 0.7;
  --link-unresolved-decoration-style: dashed;
  --link-unresolved-decoration-color: var(--text-muted);

  /* === Tags === */
  --tag-color: var(--color-cyan-primary);
  --tag-color-hover: var(--color-cyan-bright);
  --tag-background: rgba(0, 206, 209, 0.15);
  --tag-background-hover: rgba(0, 206, 209, 0.25);
  --tag-border-color: var(--color-cyan-dark);
  --tag-border-color-hover: var(--color-cyan-primary);
  --tag-border-width: 1px;
  --tag-padding-x: 0.5em;
  --tag-padding-y: 0.15em;
  --tag-radius: 4px;

  /* === Code === */
  --code-normal: var(--color-cyan-bright);
  --code-comment: #6a9955;
  --code-function: var(--color-orange-primary);
  --code-important: var(--color-orange-bright);
  --code-keyword: #c586c0;
  --code-operator: #d4d4d4;
  --code-property: #9cdcfe;
  --code-punctuation: #d4d4d4;
  --code-string: #ce9178;
  --code-tag: #569cd6;
  --code-value: #b5cea8;
  --code-background: #1e1e1e;
  --code-white-space: pre-wrap;
  --code-size: 0.9em;

  /* === Callouts === */
  --callout-default: var(--color-orange-primary);
  --callout-info: var(--color-cyan-primary);
  --callout-warning: #ffc107;
  --callout-error: #f44336;
  --callout-success: #4caf50;
  --callout-question: var(--color-cyan-bright);
  --callout-tip: var(--color-orange-bright);
  --callout-bug: #f44336;
  --callout-quote: #888888;

  /* === Checkbox === */
  --checkbox-color: var(--color-orange-primary);
  --checkbox-color-hover: var(--color-orange-bright);
  --checkbox-marker-color: var(--background-primary);
  --checkbox-border-color: #555555;
  --checkbox-border-color-hover: var(--color-orange-primary);

  /* === Graph === */
  --graph-line: #3d3d3d;
  --graph-node: var(--color-cyan-primary);
  --graph-node-unresolved: #555555;
  --graph-node-focused: var(--color-orange-primary);
  --graph-node-tag: var(--color-cyan-bright);
  --graph-node-attachment: #888888;

  /* === Canvas === */
  --canvas-color: var(--color-orange-primary);
  --canvas-dot-pattern: #2d2d2d;

  /* === Borders and Radius === */
  --radius-s: 4px;
  --radius-m: 8px;
  --radius-l: 12px;
  --radius-xl: 16px;

  /* === Shadows === */
  --shadow-s: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-m: 0 2px 8px rgba(0, 0, 0, 0.4);
  --shadow-l: 0 4px 16px rgba(0, 0, 0, 0.5);

  /* === Input === */
  --input-shadow: inset 0 0 0 1px var(--background-modifier-border);
  --input-shadow-hover: inset 0 0 0 1px var(--color-orange-dark);
  --input-radius: var(--radius-s);

  /* === Button === */
  --button-radius: var(--radius-s);

  /* === Nav (File explorer) === */
  --nav-item-color: var(--text-muted);
  --nav-item-color-hover: var(--text-normal);
  --nav-item-color-active: var(--color-orange-primary);
  --nav-item-color-selected: var(--color-orange-primary);
  --nav-item-color-highlighted: var(--text-accent);
  --nav-item-background-hover: var(--background-modifier-hover);
  --nav-item-background-active: var(--background-modifier-hover);
  --nav-item-background-selected: rgba(255, 107, 53, 0.15);
  --nav-file-tag: var(--text-faint);
  --nav-indentation-guide-color: var(--background-modifier-border);

  /* === Vault name === */
  --vault-name-color: var(--color-orange-primary);
  --vault-name-font-size: 1em;
  --vault-name-font-weight: 600;

  /* === Status bar === */
  --status-bar-background: var(--background-secondary);
  --status-bar-border-color: var(--background-modifier-border);
  --status-bar-border-width: 1px 0 0 0;
  --status-bar-text-color: var(--text-muted);

  /* === Prompt === */
  --prompt-border-color: var(--color-orange-primary);

  /* === Modal === */
  --modal-background: var(--background-primary);
  --modal-border-color: var(--background-modifier-border);
  --modal-border-width: 1px;
  --modal-radius: var(--radius-l);

  /* === Sidebar (left/right) === */
  --sidebar-markdown-font-size: 0.9em;
}

/* === Additional Styling === */

/* Workspace background with subtle hex pattern */
.workspace {
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 107, 53, 0.03) 0%, transparent 50%),
    var(--background-primary);
}

/* Active line highlight */
.cm-active.cm-line {
  background-color: rgba(255, 107, 53, 0.05);
}

/* Selection styling */
::selection {
  background-color: rgba(255, 107, 53, 0.35);
}

/* Bold text with accent color */
strong, b {
  color: var(--color-orange-bright);
  font-weight: 600;
}

/* Italic styling */
em, i {
  color: var(--color-cyan-bright);
}

/* Horizontal rule */
hr {
  border: none;
  border-top: 2px solid var(--color-orange-primary);
  opacity: 0.5;
}

/* Blockquote styling */
blockquote {
  border-left: 3px solid var(--color-orange-primary);
  background-color: rgba(255, 107, 53, 0.05);
  padding: 0.5em 1em;
  margin: 0.5em 0;
}

/* Code block styling */
.markdown-rendered pre {
  background-color: var(--code-background);
  border: 1px solid var(--background-modifier-border);
  border-left: 3px solid var(--color-cyan-primary);
  border-radius: var(--radius-m);
}

/* Inline code */
.markdown-rendered code {
  background-color: rgba(0, 206, 209, 0.1);
  border: 1px solid rgba(0, 206, 209, 0.2);
  border-radius: var(--radius-s);
  padding: 0.1em 0.3em;
  color: var(--color-cyan-bright);
}

/* Table styling */
.markdown-rendered table {
  border-collapse: collapse;
  width: 100%;
}

.markdown-rendered th {
  background-color: rgba(255, 107, 53, 0.15);
  color: var(--color-orange-primary);
  font-weight: 600;
  border: 1px solid var(--background-modifier-border);
  padding: 0.5em 1em;
}

.markdown-rendered td {
  border: 1px solid var(--background-modifier-border);
  padding: 0.5em 1em;
}

.markdown-rendered tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.02);
}

.markdown-rendered tr:hover {
  background-color: rgba(255, 107, 53, 0.05);
}

/* Sidebar styling */
.workspace-leaf-content[data-type="file-explorer"] .nav-folder-title {
  color: var(--text-normal);
}

.workspace-leaf-content[data-type="file-explorer"] .nav-folder-title:hover {
  color: var(--color-orange-primary);
}

/* Tab styling */
.workspace-tab-header {
  border-bottom: 2px solid transparent;
  transition: border-color 0.2s ease;
}

.workspace-tab-header.is-active {
  border-bottom-color: var(--color-orange-primary);
}

.workspace-tab-header:hover:not(.is-active) {
  border-bottom-color: rgba(255, 107, 53, 0.5);
}

/* Search result highlighting */
.search-result-file-matched-text {
  background-color: rgba(255, 107, 53, 0.3);
  color: var(--text-normal);
}

/* Checkbox styling */
input[type="checkbox"]:checked {
  background-color: var(--color-orange-primary);
  border-color: var(--color-orange-primary);
}

/* Focus states */
*:focus-visible {
  outline: 2px solid var(--color-orange-primary);
  outline-offset: 2px;
}

/* Button hover effects */
.clickable-icon:hover {
  color: var(--color-orange-primary);
  background-color: rgba(255, 107, 53, 0.1);
}

/* Progress bar */
progress::-webkit-progress-value {
  background-color: var(--color-orange-primary);
}

progress::-webkit-progress-bar {
  background-color: var(--background-modifier-border);
}

/* Tooltip */
.tooltip {
  background-color: var(--background-secondary);
  border: 1px solid var(--color-orange-primary);
  border-radius: var(--radius-s);
  color: var(--text-normal);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--background-secondary);
}

::-webkit-scrollbar-thumb {
  background: #3d3d3d;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-orange-primary);
}

/* Ribbon (left sidebar icons) */
.workspace-ribbon {
  background-color: var(--ribbon-background);
  border-right: 1px solid var(--background-modifier-border);
}

.workspace-ribbon-collapse-btn:hover,
.side-dock-ribbon-action:hover {
  color: var(--color-orange-primary);
}

/* Heading underlines for H1 and H2 */
.markdown-rendered h1 {
  border-bottom: 2px solid var(--color-orange-primary);
  padding-bottom: 0.3em;
}

.markdown-rendered h2 {
  border-bottom: 1px solid var(--color-orange-dark);
  padding-bottom: 0.2em;
}

/* List markers */
.markdown-rendered ul > li::marker {
  color: var(--color-orange-primary);
}

.markdown-rendered ol > li::marker {
  color: var(--color-cyan-primary);
}

/* Embed styling */
.markdown-embed {
  border: 1px solid var(--background-modifier-border);
  border-left: 3px solid var(--color-orange-primary);
  border-radius: var(--radius-m);
  background-color: var(--background-secondary);
}

.markdown-embed-title {
  color: var(--color-orange-primary);
}

/* Frontmatter styling */
.frontmatter-container {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  border-radius: var(--radius-m);
}

.frontmatter-container .frontmatter-container-header {
  color: var(--color-cyan-primary);
}

/* Settings panel accent */
.setting-item-control .checkbox-container.is-enabled {
  background-color: var(--color-orange-primary);
}

.setting-item-control input[type="range"]::-webkit-slider-thumb {
  background-color: var(--color-orange-primary);
}

/* Command palette */
.suggestion-item.is-selected {
  background-color: rgba(255, 107, 53, 0.15);
  border-left: 3px solid var(--color-orange-primary);
}

.suggestion-hotkey {
  background-color: var(--background-secondary);
  color: var(--color-cyan-primary);
  border: 1px solid var(--background-modifier-border);
}

/* Calendar plugin support */
.calendar {
  --color-dot: var(--color-orange-primary);
}

/* Kanban plugin support */
.kanban-plugin__board {
  background-color: var(--background-primary);
}

.kanban-plugin__lane {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
}

.kanban-plugin__lane-title-text {
  color: var(--color-orange-primary);
}

/* Dataview plugin support */
.dataview.table-view-table thead {
  background-color: rgba(255, 107, 53, 0.1);
}

.dataview.table-view-table th {
  color: var(--color-orange-primary);
}
